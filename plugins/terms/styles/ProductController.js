/*
 * Copyright (C) 2009-2019 SAP SE or an SAP affiliate company. All rights reserved.
 */
sap.ui.define(["retail/pmr/promotionaloffers/utils/Models","retail/pmr/promotionaloffers/plugins/terms/styles/AbstractTermObjectController","retail/pmr/promotionaloffers/utils/Utils"],function(M,A,U){function o(m,d){return new Promise(function(r,a){var p="retail.pmr.promotionaloffers.plugins.terms.controls.search.ProductSearchPage";var c=sap.ui.controller(p);var f=sap.ui.xmlfragment(p,c);f._sOwnerId=U.getComponent().getId();var i="Terms.Advanced.Product.Title";c.onInit(f,m,d,i,r,a);}).then(function(i){return M.getProductById(i,d);},function(e){if(e){jQuery.sap.log.error(e);}return Promise.reject(e);});}function P(){A.apply(this,arguments);}P.openValueHelpDialog=o;P.prototype=Object.create(A.prototype);P.prototype.getDimension=function(){return"01";};P.prototype.handleProductDetails=function(p,a,t){var r=jQuery.extend(true,{},t);this.productDetails.remove(r);if(a){var c=[a];this.productDetails.add(c,t);}};P.prototype.populateModel=function(m,p,d){m.setProperty(p+"/Selection/ProductId",d.ProductId);m.setProperty(p+"/Selection/HierarchyId",null);m.setProperty(p+"/Selection/HierarchyNodeId",null);m.setProperty(p+"/Selection/ExtProductId",d.ExtNodeId);m.setProperty(p+"/Selection/ExtHierarchyId",null);m.setProperty(p+"/Selection/ExtHierarchyNodeId",null);m.setProperty(p+"/Selection/Description",d.Name);m.setProperty(p+"/ProductTextValue",d.ExtNodeId);m.setProperty(p+"/ProductDescriptionValue",d.Name);m.setProperty(p+"/DiscountDescription",d.ProductDetail.Currency);m.setProperty(p+"/Selection/Products",d.ProductId?1:0);};P.prototype.openValueHelpDialog=function(e,m){return o(m,"01");};return P;},true);
